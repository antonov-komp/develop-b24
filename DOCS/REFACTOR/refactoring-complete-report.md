# ‚úÖ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω: –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Vue.js

**–î–∞—Ç–∞:** 2025-12-20 (UTC+3, –ë—Ä–µ—Å—Ç)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ú–∏–≥—Ä–∞—Ü–∏—è –±—ç–∫–µ–Ω–¥–∞ –Ω–∞ b24phpsdk
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `bitrix24/b24phpsdk` —á–µ—Ä–µ–∑ Composer
- ‚úÖ –°–æ–∑–¥–∞–Ω `Bitrix24SdkClient` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤—ã–º SDK
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã (`Bitrix24ApiService`, `UserService`, `AuthService`)
- ‚úÖ –£–¥–∞–ª–µ–Ω —É—Å—Ç–∞—Ä–µ–≤—à–∏–π `CRest`
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã

### 2. –ú–∏–≥—Ä–∞—Ü–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –Ω–∞ Vue.js
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `frontend/` —Å Vue.js 3 (Composition API)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω Vite –¥–ª—è —Å–±–æ—Ä–∫–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (IndexPage, AccessControlPage, TokenAnalysisPage)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω Vue Router –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω Pinia store –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å Bitrix24 BX.* API

### 3. –°–æ–∑–¥–∞–Ω–∏–µ API endpoints
- ‚úÖ `/api/user/current` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ `/api/departments` - —Å–ø–∏—Å–æ–∫ –æ—Ç–¥–µ–ª–æ–≤
- ‚úÖ `/api/access-control` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ `/api/token-analysis` - –∞–Ω–∞–ª–∏–∑ —Ç–æ–∫–µ–Ω–∞

### 4. –£–ø—Ä–æ—â–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã PHP —Ñ–∞–π–ª–æ–≤
- ‚úÖ **`install.php`** - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- ‚úÖ **`index.php`** - –∑–∞–≥—Ä—É–∂–∞–µ—Ç Vue.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
- ‚úÖ **`access-control.php`** - –∑–∞–≥—Ä—É–∂–∞–µ—Ç Vue.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–º–∞—Ä—à—Ä—É—Ç `/access-control`)
- ‚úÖ **`token-analysis.php`** - –∑–∞–≥—Ä—É–∂–∞–µ—Ç Vue.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–º–∞—Ä—à—Ä—É—Ç `/token-analysis`)
- ‚úÖ –£–¥–∞–ª–µ–Ω `vue-app.php` (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ –æ–±—â—É—é —Ñ—É–Ω–∫—Ü–∏—é)

---

## üìÅ –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
APP-B24/
‚îú‚îÄ‚îÄ install.php              # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (PHP)
‚îú‚îÄ‚îÄ index.php                # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Üí Vue.js
‚îú‚îÄ‚îÄ access-control.php        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞–º–∏ ‚Üí Vue.js
‚îú‚îÄ‚îÄ token-analysis.php        # –ê–Ω–∞–ª–∏–∑ —Ç–æ–∫–µ–Ω–∞ ‚Üí Vue.js
‚îú‚îÄ‚îÄ failure.php              # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–∫–∏ (PHP)
‚îÇ
‚îú‚îÄ‚îÄ api/                     # REST API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ index.php
‚îÇ   ‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth.php
‚îÇ   ‚îî‚îÄ‚îÄ routes/
‚îÇ       ‚îú‚îÄ‚îÄ user.php
‚îÇ       ‚îú‚îÄ‚îÄ departments.php
‚îÇ       ‚îú‚îÄ‚îÄ access-control.php
‚îÇ       ‚îî‚îÄ‚îÄ token-analysis.php
‚îÇ
‚îú‚îÄ‚îÄ frontend/                # Vue.js —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/      # Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/        # API —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stores/          # Pinia stores
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ router/          # Vue Router
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/           # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.js
‚îÇ
‚îú‚îÄ‚îÄ public/dist/             # –°–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã Vue.js
‚îÇ
‚îú‚îÄ‚îÄ src/                     # PHP –±—ç–∫–µ–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ Clients/             # Bitrix24SdkClient
‚îÇ   ‚îú‚îÄ‚îÄ Services/            # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ Controllers/         # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ helpers/             # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ       ‚îî‚îÄ‚îÄ loadVueApp.php   # –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ Vue.js
‚îÇ
‚îî‚îÄ‚îÄ vendor/                  # Composer –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   cd frontend
   npm install
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å dev-—Å–µ—Ä–≤–µ—Ä:**
   ```bash
   npm run dev
   ```

3. **–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   - Dev-—Å–µ—Ä–≤–µ—Ä: `http://localhost:5173`
   - –ò–ª–∏ —á–µ—Ä–µ–∑ Bitrix24: `https://your-domain.bitrix24.ru/APP-B24/index.php?AUTH_ID=...&DOMAIN=...`

### Production

1. **–°–æ–±—Ä–∞—Ç—å Vue.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   ```bash
   cd frontend
   npm run build
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–±–æ—Ä–∫—É:**
   - –§–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –≤ `public/dist/`
   - –û—Ç–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ Bitrix24: `https://your-domain.bitrix24.ru/APP-B24/index.php`

---

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Bitrix24:**
   - Bitrix24 –ø–µ—Ä–µ–¥–∞–µ—Ç `AUTH_ID` –∏ `DOMAIN` –≤ URL
   - –ó–∞–ø—Ä–æ—Å –∏–¥–µ—Ç –Ω–∞ `index.php`, `access-control.php` –∏–ª–∏ `token-analysis.php`

2. **PHP –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:**
   - `AuthService::checkBitrix24Auth()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω—ã
   - –ï—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ –ø—Ä–æ—à–ª–∞ ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `failure.php`

3. **PHP –∑–∞–≥—Ä—É–∂–∞–µ—Ç Vue.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   - –§—É–Ω–∫—Ü–∏—è `loadVueApp()` —á–∏—Ç–∞–µ—Ç `public/dist/index.html`
   - –ó–∞–º–µ–Ω—è–µ—Ç –ø—É—Ç–∏ –∫ —Ä–µ—Å—É—Ä—Å–∞–º –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
   - –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω –º–∞—Ä—à—Ä—É—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/access-control`), –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–∫—Ä–∏–ø—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

4. **Vue.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:**
   - Vue Router –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ API
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–µ–ø–µ—Ä—å Vue.js:**
   - `index.php` ‚Üí Vue.js –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `IndexPage.vue`
   - `access-control.php` ‚Üí Vue.js –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `AccessControlPage.vue`
   - `token-analysis.php` ‚Üí Vue.js –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `TokenAnalysisPage.vue`

2. **API endpoints –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ PHP:**
   - –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ `/APP-B24/api/`
   - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ middleware

3. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
   - `install.php` –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ PHP (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç Vue.js)

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

- ‚úÖ **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:** PHP = API, Vue.js = UI
- ‚úÖ **–ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:** Hot Module Replacement –≤ dev —Ä–µ–∂–∏–º–µ
- ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ production
- ‚úÖ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫:** Vue.js 3, Composition API, Pinia, Vue Router
- ‚úÖ **–£–¥–æ–±–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è:** –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ä–æ—É—Ç–∏–Ω–≥ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

**–í–µ—Ä—Å–∏—è:** 3.0.0  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-12-20 (UTC+3, –ë—Ä–µ—Å—Ç)

---

**–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∞–≤–æ–∫:**
- **2025-12-20 (UTC+3, –ë—Ä–µ—Å—Ç):** –°–æ–∑–¥–∞–Ω –æ—Ç—á–µ—Ç –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞


