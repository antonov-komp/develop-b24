# Технологический стек

**Дата создания:** 2025-12-19 11:52 (UTC+3, Брест)  
**Версия:** 1.0  
**Описание:** Описание технологий, используемых в REST приложении Bitrix24

---

## Основная платформа

### Bitrix24
- **Тип:** Облачная версия (REST API)
- **Документация:**
  - https://context7.com/bitrix24/rest/
  - https://apidocs.bitrix24.ru/
- **Методы работы:** REST API через вебхуки

### Backend
- **Язык:** PHP 8.4+
- **Библиотека:** CRest (для работы с Bitrix24 REST API)
- **Структура:** Модульная архитектура

### Frontend
- **JavaScript:** Vanilla JS (без фреймворков)
- **CSS:** CSS3
- **HTML:** HTML5

---

## Интеграции

### Bitrix24 REST API
- **Основной инструмент:** REST API через вебхуки
- **Методы:**
  - `crm.lead.*` — работа с лидами
  - `crm.deal.*` — работа со сделками
  - `crm.contact.*` — работа с контактами
  - `profile` — профиль пользователя
  - И другие методы согласно документации

### Библиотека CRest
- **Назначение:** Упрощение работы с Bitrix24 REST API
- **Файл:** `APP-B24/crest.php`
- **Использование:**
  ```php
  require_once (__DIR__.'/crest.php');
  $result = CRest::call('profile', []);
  ```

---

## Структура проекта

```
/var/www/backend.antonov-mark.ru/
├── APP-B24/              # Основное приложение
│   ├── crest.php         # Библиотека CRest
│   ├── settings.php      # Настройки (Client ID, Secret, Webhook)
│   ├── index.php         # Точка входа
│   ├── install.php       # Установка приложения
│   ├── checkserver.php   # Проверка сервера
│   └── logs/             # Логи приложения
├── DOCS/                 # Документация
└── README.md             # Общее описание проекта
```

---

## Ограничения и особенности

### Безопасность
- Секреты хранятся в `settings.php` (не коммитить в Git)
- Использовать переменные окружения для продакшена
- Валидация всех входящих данных

### Логирование
- Логи сохраняются в `APP-B24/logs/`
- Формат: `YYYY-MM-DD/HH/[timestamp]_[type]_[id]log.json`
- Типы логов: `emptySetting`, и другие

### Производительность
- Кеширование ответов API (если применимо)
- Ограничение частоты запросов к Bitrix24 API
- Асинхронная обработка (если требуется)

---

## Зависимости

### PHP
- Версия: 8.4+
- Расширения:
  - `curl` — для HTTP-запросов
  - `json` — для работы с JSON
  - `openssl` — для SSL-соединений

### Внешние библиотеки
- CRest — библиотека для работы с Bitrix24 REST API

---

## История правок

- 2025-12-19 11:52 (UTC+3, Брест): Создан документ с описанием технологического стека

